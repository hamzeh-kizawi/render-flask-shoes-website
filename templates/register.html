{% extends "base.html" %}

{% block title %}Register{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='register.css') }}">
{% endblock %}

{% block body %}
<div class="go-home">
  <i class="fa-solid fa-backward"></i>
  <a href="{{ url_for('home') }}" class="go-home-button">Go Back to Home</a>
</div>
<div class="wrapper">
    {% if logged_in %}
        <h1>Welcome, {{ username }}!</h1>
        <p>You are already registered and logged in.</p>
        <a href="{{ url_for('logout') }}" class="btn btn-logout">Logout</a>
        <a href="{{ url_for('home') }}" class="btn btn-home">Go Back to Home</a>
    {% else %}
        <form action="{{ url_for('register') }}" method="POST">
            <h1>Register</h1>
            <div class="input-box">
                <input type="text" name="username" placeholder="Username" required>
                <i class="fa-regular fa-user"></i>
            </div>
            <div class="input-box">
                <input type="email" name="email" placeholder="Email" required>
                <i class="fa-regular fa-envelope"></i>
            </div>
            <div class="input-box">
                <input type="password" name="password" placeholder="Password" required>
                <i class="fa-solid fa-lock"></i>
            </div>
            <button type="submit" class="btn">Register</button>
            {% if error %}
                <p class="error-message">{{ error }}</p>
            {% endif %}
            <div class="register-link">
                <p>Already have an account? 
                    <a href="{{ url_for('login') }}">Login</a>
                </p>
            </div>
        </form>
    {% endif %}
</div>
{% endblock %}
